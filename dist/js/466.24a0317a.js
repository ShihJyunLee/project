"use strict";(self["webpackChunkfirst_project"]=self["webpackChunkfirst_project"]||[]).push([[466],{2466:function(t,e,s){s.r(e),s.d(e,{default:function(){return G}});var i=s(3396),c=s(7139),o=s(9242);const r=t=>((0,i.dD)("data-v-6736c974"),t=t(),(0,i.Cn)(),t),d={class:"container mt-5"},a={class:"row mt-4"},l={class:"col-md-6 col-lg-5 mb-3"},n={class:"btn-group",role:"group","aria-label":"Basic example"},u={class:"col-md-6 col-lg-4 ms-auto"},g={class:"input-group mb-3"},p={class:"input-group-text"},h={key:0},b={class:"row"},y=["onClick"],_=["src"],w={class:"card-body"},v={class:"card-title font-weight-bold mb-4"},C={class:"price-section d-flex justify-content-between"},k={key:0,class:"h5"},m={key:1,class:"h6"},f={key:2,class:"h5 text-danger"},P={class:"text-end"},x=["onClick","disabled"],D={key:0,class:"spinner-border spinner-border-sm text-dark",role:"status"},I=r((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),q=[I],z={key:1},L={class:"row"},$=["onClick"],F=["src"],j={class:"card-body"},N={class:"card-title font-weight-bold mb-4"},T={class:"price-section d-flex justify-content-between"},H={key:0,class:"h5"},U={key:1,class:"h6"},Y={key:2,class:"h5 text-danger"},A={class:"text-end"},K=["onClick","disabled"],B={key:0,class:"spinner-border spinner-border-sm text-dark",role:"status"},M=r((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),S=[M];function V(t,e,s,r,I,M){const V=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(V,{active:t.isLoading},null,8,["active"]),(0,i._)("div",d,[(0,i._)("div",a,[(0,i._)("div",l,[(0,i._)("div",n,[(0,i._)("button",{type:"button",class:(0,c.C_)(["btn",{"btn-outline-secondary":"全部產品"!==I.selectedCategory,"btn-secondary text-white":"全部產品"===I.selectedCategory,active:"全部產品"===I.selectedCategory}]),onClick:e[0]||(e[0]=t=>M.filterAll())},"全部產品",2),(0,i._)("button",{type:"button",class:(0,c.C_)(["btn",{"btn-outline-secondary":"日本"!==I.selectedCategory,"btn-secondary text-white":"日本"===I.selectedCategory,active:"日本"===I.selectedCategory}]),onClick:e[1]||(e[1]=t=>M.filterProducts("日本"))},"日本",2),(0,i._)("button",{type:"button",class:(0,c.C_)(["btn",{"btn-outline-secondary":"韓國"!==I.selectedCategory,"btn-secondary text-white":"韓國"===I.selectedCategory,active:"韓國"===I.selectedCategory}]),onClick:e[2]||(e[2]=t=>M.filterProducts("韓國"))},"韓國",2)])]),(0,i._)("div",u,[(0,i._)("div",g,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control border-bottom border-0 rounded-0",placeholder:"搜尋產品","onUpdate:modelValue":e[3]||(e[3]=t=>I.searchInput=t)},null,512),[[o.nr,I.searchInput]]),(0,i._)("span",p,[(0,i._)("i",{class:"bi bi-search",onClick:e[4]||(e[4]=t=>M.searchProducts()),style:{cursor:"pointer"}})])])])]),I.showFiltered?((0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("div",b,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.filteredProducts,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.id,class:"col-md-6 col-lg-3 mb-4"},[(0,i._)("div",{class:"card",onClick:e=>M.getProduct(t.id)},[(0,i._)("img",{src:t.imageUrl,class:"card-img-top equal-size",alt:"Product Image"},null,8,_),(0,i._)("div",w,[(0,i._)("h4",v,(0,c.zw)(t.title),1),(0,i._)("div",C,[t.price?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",k,(0,c.zw)(t.origin_price)+" 元",1)),t.price?((0,i.wg)(),(0,i.iD)("del",m,"原價 NT$"+(0,c.zw)(t.origin_price)+" 元",1)):(0,i.kq)("",!0),t.price?((0,i.wg)(),(0,i.iD)("div",f,"NT$"+(0,c.zw)(t.price)+" 元",1)):(0,i.kq)("",!0)]),(0,i._)("div",P,[(0,i._)("button",{type:"button",class:"btn",onClick:e=>M.addCart(t.id,e),disabled:this.status.loadingItem===t.id},[this.status.loadingItem===t.id?((0,i.wg)(),(0,i.iD)("div",D,q)):(0,i.kq)("",!0),(0,i._)("i",{class:(0,c.C_)(["bi bi-cart",{"text-danger":t.inCart}])},null,2)],8,x)])])],8,y)])))),128))])])):((0,i.wg)(),(0,i.iD)("div",z,[(0,i._)("div",L,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.products,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.id,class:"col-md-6 col-lg-3 mb-4"},[(0,i._)("div",{class:"card",onClick:e=>M.getProduct(t.id)},[(0,i._)("img",{src:t.imageUrl,class:"card-img-top equal-size",alt:"Product Image"},null,8,F),(0,i._)("div",j,[(0,i._)("h4",N,(0,c.zw)(t.title),1),(0,i._)("div",T,[t.price?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",H,(0,c.zw)(t.origin_price)+" 元",1)),t.price?((0,i.wg)(),(0,i.iD)("del",U,"原價 NT$"+(0,c.zw)(t.origin_price)+" 元",1)):(0,i.kq)("",!0),t.price?((0,i.wg)(),(0,i.iD)("div",Y,"NT$"+(0,c.zw)(t.price)+" 元",1)):(0,i.kq)("",!0)]),(0,i._)("div",A,[(0,i._)("button",{type:"button",class:"btn",onClick:e=>M.addCart(t.id,e),disabled:this.status.loadingItem===t.id},[this.status.loadingItem===t.id?((0,i.wg)(),(0,i.iD)("div",B,S)):(0,i.kq)("",!0),(0,i._)("i",{class:(0,c.C_)(["bi bi-cart",{"text-danger":t.inCart}])},null,2)],8,K)])])],8,$)])))),128))])]))])],64)}s(560);var W={data(){return{products:[],product:{},filteredProducts:[],selectedCategory:"全部產品",showFiltered:!1,searchInput:"",status:{loadingItem:""}}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/rou-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.products=t.data.products,this.isLoading=!1,console.log(this.products)}))},getProduct(t){this.$router.push(`/user/product/${t}`)},addCart(t){event.stopPropagation();const e="https://vue3-course-api.hexschool.io/api/rou-api/cart";this.status.loadingItem=t;const s={product_id:t,qty:1};this.$http.post(e,{data:s}).then((t=>{this.status.loadingItem="",this.$httpMessageState(t,"加入購物車")}));const i=this.products.find((e=>e.id===t));i&&(i.inCart=!0)},filterProducts(t){this.selectedCategory=t,this.filteredProducts=this.products.filter((t=>t.category===this.selectedCategory)),this.showFiltered=!0,this.getProducts(),this.isLoading=!1},filterAll(){this.showFiltered=!1,this.selectedCategory="全部產品",this.getProducts()},searchProducts(){this.filteredProducts=this.products.filter((t=>t.title.toLowerCase().includes(this.searchInput.toLowerCase()))),this.showFiltered=!0,this.getProducts(),this.isLoading=!1}},created(){this.getProducts()}},Z=s(89);const E=(0,Z.Z)(W,[["render",V],["__scopeId","data-v-6736c974"]]);var G=E}}]);
//# sourceMappingURL=466.24a0317a.js.map