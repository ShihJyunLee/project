{"version":3,"file":"js/892.4e7aaf19.js","mappings":"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","sources":["webpack://first-project/./src/views/UserCheckout.vue","webpack://first-project/./src/views/UserCheckout.vue?0c02"],"sourcesContent":["<!-- 客戶訂單 -->\r\n\r\n<style scoped>\r\n  .line {\r\n    position: absolute;\r\n    top: 50%;\r\n    right: -15px; /* 根據需要調整線的位置 */\r\n    height: 2px;\r\n    width: 15px; /* 根據需要調整線的長度 */\r\n    background-color: #000; /* 根據需要調整線的顏色 */\r\n  }\r\n  .custom-bg {\r\n    background-color: #ffe6cc; /* 设置你想要的颜色 */\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"mt-5\"></div>\r\n  <div class=\"mt-5\">\r\n      <h2 class=\"text-center mb-4\">結帳流程</h2>\r\n      <div class=\"text-center text-nowrap\">\r\n        <div class=\"d-inline-block\">\r\n          <div class=\"border rounded rounded-4 p-2 me-3 position-relative bg-secondary text-white\">確認品項\r\n            <div class=\"line\"></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"d-inline-block\">\r\n          <div class=\"border rounded rounded-4 p-2 me-3 position-relative bg-secondary text-white\">填寫資料\r\n            <div class=\"line\"></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"d-inline-block\">\r\n          <div class=\"border rounded rounded-4 p-2 me-3 position-relative bg-secondary text-white\">前往付款\r\n            <div class=\"line\"></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"d-inline-block\">\r\n          <div class=\"border rounded rounded-4 p-2 position-relative\">結帳成功</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row mt-5 container mx-auto\">\r\n      <div class=\"col-md-6 p-2 mb-5\">\r\n        <div class=\"border border-1 border-dark\">\r\n          <div class=\"h2 text-center p-4\">個人資料</div>\r\n          <ul class=\"list-group\" >\r\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\r\n              姓名\r\n              <span>{{ order.user.name }}</span>\r\n            </li>\r\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\r\n              電子郵件\r\n              <span>{{ order.user.email }}</span>\r\n            </li>\r\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\r\n              電話號碼\r\n              <span>{{ order.user.tel }}</span>\r\n            </li>\r\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\r\n              地址\r\n              <span>{{ order.user.address }}</span>\r\n            </li>\r\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\r\n              付款狀態\r\n              <span v-if=\"!order.is_paid\">尚未付款</span>\r\n              <span v-else class=\"text-success\">付款完成</span>\r\n            </li>\r\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\">\r\n              留言\r\n              <span>{{ order.message }}</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-6 p-2 mb-5\">\r\n        <div class=\"border border-1 border-dark\">\r\n          <div class=\"h2 text-center border-bottom p-4\">訂單明細</div>\r\n          <div class=\"ms-4 mb-5\">\r\n            <b>訂單建立時間: <span class=\"text-primary\">{{ order.created_at }}</span></b>\r\n          </div>\r\n          <div class=\"row my-4\">\r\n            <div class=\"col-md-6\">\r\n              <h4 class=\"ms-4\">品項:</h4>\r\n            </div>\r\n            <div class=\"col-md-6 text-end pe-5\">\r\n              <div v-for=\"item in order.products\" :key=\"item.id\">\r\n                <div class=\"border-bottom mb-4\">\r\n                  {{ item.product.title }}<span class=\"ps-3\">x{{ item.qty }}</span><span class=\"ps-1\">{{ item.product.unit }}</span>\r\n                  <div>\r\n                    <small class=\"text-secondary\">NT$<span class=\"ps-1\">{{ item.final_total }}</span></small>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-4 mt-5 mx-2\">\r\n            <div class=\"col-md-6\">\r\n              <h4>總計:</h4>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <div class=\"text-end\">\r\n                <strong class=\"text-danger\">NT$ <span class=\"ps-1\">{{ total }}元</span></strong>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mx-2\">\r\n            <div class=\"col-md-6\">\r\n              <h4>付款狀態:</h4>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <div class=\"text-end\">\r\n                {{ is_paid }}\r\n              </div>\r\n            </div>\r\n            <button class=\"text-white bg-dark p-2 mb-2 mt-5\" type=\"button\" @click=\"payOrder\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">確認付款</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title text-success\" id=\"exampleModalLabel\">付款成功</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            感謝您的付款，您的訂單已成功支付。\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" @click=\"goCart\">繼續購物</button>\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">關閉</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      order: {\r\n        user: {},\r\n        created_at: '' // 新增建立時間屬性\r\n      },\r\n      orderId: '', // 訂單id\r\n      total: '',\r\n      is_paid: '未付款',\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    getOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`// 取得某一筆訂單\r\n      this.$http.get(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.order = res.data.order\r\n            this.total = res.data.order.total\r\n            if (res.data.order.is_paid) {\r\n              this.is_paid = '已付款'\r\n            }\r\n            this.order.created_at = new Date(res.data.order.create_at * 1000).toLocaleString() // 設置建立時間\r\n            console.log(res)\r\n          }\r\n        })\r\n    },\r\n    payOrder () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`// 付款API\r\n      this.isLoading = true\r\n      this.$http.post(url)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (res.data.success) {\r\n            this.getOrder()\r\n          }\r\n        })\r\n    },\r\n    goCart () {\r\n      this.$router.push('/user/cart')\r\n    }\r\n  },\r\n  created () {\r\n    this.orderId = this.$route.params.orderId// 取得瀏覽器路由id\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCheckout.vue?vue&type=template&id=3939b77d&scoped=true\"\nimport script from \"./UserCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckout.vue?vue&type=script&lang=js\"\n\nimport \"./UserCheckout.vue?vue&type=style&index=0&id=3939b77d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3939b77d\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","tabindex","type","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","order","user","name","_hoisted_9","email","_hoisted_10","tel","_hoisted_11","address","_hoisted_12","is_paid","_createElementBlock","_hoisted_14","_hoisted_13","_hoisted_15","message","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","created_at","_hoisted_21","_hoisted_22","_hoisted_23","_Fragment","_renderList","products","item","key","_hoisted_24","product","title","_hoisted_25","qty","_hoisted_26","unit","_hoisted_27","_hoisted_28","final_total","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","total","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","onClick","_cache","args","$options","payOrder","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","goCart","_hoisted_45","data","orderId","methods","getOrder","url","this","$http","get","then","res","success","Date","create_at","toLocaleString","console","log","post","$router","push","created","$route","params","__exports__","render"],"sourceRoot":""}