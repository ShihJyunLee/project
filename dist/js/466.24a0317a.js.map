{"version":3,"file":"js/466.24a0317a.js","mappings":"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","sources":["webpack://first-project/./src/views/UserCart.vue","webpack://first-project/./src/views/UserCart.vue?698a"],"sourcesContent":["<!-- 使用者商品列表 -->\r\n\r\n<style scoped>\r\n  .card:hover {\r\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1); /* 設定滑鼠懸停時的陰影效果 */\r\n    cursor: pointer; /* 讓滑鼠懸停時游標變成手指頭 */\r\n    transform: scale(1.05); /* 使卡片內容放大 5% */\r\n    transition: transform 0.3s ease; /* 添加縮放的過渡效果 */\r\n  }\r\n\r\n  .card:hover i {\r\n    color: red; /* 或是您想要的其他顏色 */\r\n    /* 或者您可以添加其他樣式，例如 text-shadow、背景色等 */\r\n  }\r\n\r\n  @media screen and (min-width: 768px) {\r\n    .equal-size {\r\n      min-height: 280px; /* 设置相同的高度 */\r\n    }\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"container mt-5\">\r\n    <div class=\"row mt-4\">\r\n      <div class=\"col-md-6 col-lg-5 mb-3\">\r\n        <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n          <button type=\"button\" class=\"btn\" :class=\"{ 'btn-outline-secondary': selectedCategory !== '全部產品', 'btn-secondary text-white': selectedCategory === '全部產品', 'active': selectedCategory === '全部產品' }\" @click=\"filterAll()\">全部產品</button>\r\n          <button type=\"button\" class=\"btn\" :class=\"{ 'btn-outline-secondary': selectedCategory !== '日本', 'btn-secondary text-white': selectedCategory === '日本', 'active': selectedCategory === '日本' }\" @click=\"filterProducts('日本')\">日本</button>\r\n          <button type=\"button\" class=\"btn\" :class=\"{ 'btn-outline-secondary': selectedCategory !== '韓國', 'btn-secondary text-white': selectedCategory === '韓國', 'active': selectedCategory === '韓國' }\" @click=\"filterProducts('韓國')\">韓國</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-6 col-lg-4 ms-auto\">\r\n        <div class=\"input-group mb-3\">\r\n          <input type=\"text\" class=\"form-control border-bottom border-0 rounded-0\" placeholder=\"搜尋產品\" v-model=\"searchInput\">\r\n          <span class=\"input-group-text\">\r\n            <i class=\"bi bi-search\" @click=\"searchProducts()\" style=\"cursor: pointer\"></i>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"showFiltered\">\r\n      <div class=\"row\">\r\n        <div v-for=\"item in filteredProducts\" :key=\"item.id\" class=\"col-md-6 col-lg-3 mb-4\">\r\n          <div class=\"card\" @click=\"getProduct(item.id)\">\r\n            <img :src=\"item.imageUrl\" class=\"card-img-top equal-size\" alt=\"Product Image\">\r\n            <div class=\"card-body\">\r\n              <h4 class=\"card-title font-weight-bold mb-4\">{{ item.title }}</h4>\r\n              <div class=\"price-section d-flex justify-content-between\">\r\n                <div class=\"h5\" v-if=\"!item.price\">{{ item.origin_price }} 元</div>\r\n                <del class=\"h6\" v-if=\"item.price\">原價 NT${{ item.origin_price }} 元</del>\r\n                <div class=\"h5 text-danger\" v-if=\"item.price\">NT${{ item.price }} 元</div>\r\n              </div>\r\n              <div class=\"text-end\">\r\n                <button type=\"button\" class=\"btn\" @click=\"addCart(item.id, $event)\" :disabled=\"this.status.loadingItem === item.id\">\r\n                  <div class=\"spinner-border spinner-border-sm text-dark\" role=\"status\" v-if=\"this.status.loadingItem === item.id\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                  <i class=\"bi bi-cart\" :class=\"{ 'text-danger': item.inCart }\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      <div class=\"row\">\r\n        <div v-for=\"item in products\" :key=\"item.id\" class=\"col-md-6 col-lg-3 mb-4\">\r\n          <div class=\"card\" @click=\"getProduct(item.id)\">\r\n            <img :src=\"item.imageUrl\" class=\"card-img-top equal-size\" alt=\"Product Image\">\r\n            <div class=\"card-body\">\r\n              <h4 class=\"card-title font-weight-bold mb-4\">{{ item.title }}</h4>\r\n              <div class=\"price-section d-flex justify-content-between\">\r\n                <div class=\"h5\" v-if=\"!item.price\">{{ item.origin_price }} 元</div>\r\n                <del class=\"h6\" v-if=\"item.price\">原價 NT${{ item.origin_price }} 元</del>\r\n                <div class=\"h5 text-danger\" v-if=\"item.price\">NT${{ item.price }} 元</div>\r\n              </div>\r\n              <div class=\"text-end\">\r\n                <button type=\"button\" class=\"btn\" @click=\"addCart(item.id, $event)\" :disabled=\"this.status.loadingItem === item.id\">\r\n                  <div class=\"spinner-border spinner-border-sm text-dark\" role=\"status\" v-if=\"this.status.loadingItem === item.id\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                  <i class=\"bi bi-cart\" :class=\"{ 'text-danger': item.inCart }\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [], // 用來存放產品列表的陣列\r\n      product: {}, // 用來存放單一產品的物件\r\n      filteredProducts: [], // 存放篩選後的列表的数组\r\n      selectedCategory: '全部產品', // 存放選中的分类\r\n      showFiltered: false, // 控制顯示原始列表還是篩選後的列表\r\n      searchInput: '', // 用來保存搜索關鍵字\r\n      status: {\r\n        loadingItem: '' // 對應品項 id\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`// 取得後台products商品\r\n      this.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        this.products = response.data.products // 將 API 回傳的產品列表存入 data 中的 products\r\n        this.isLoading = false\r\n        console.log(this.products)\r\n      })\r\n    },\r\n    getProduct (id) {\r\n      this.$router.push(`/user/product/${id}`) // 導航至特定產品頁面\r\n    },\r\n    addCart (id) {\r\n      event.stopPropagation()\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id // 當點擊加入購物車時，該id會存到loadingItem，同時觸發v-bind，當loadingItem跟item.id同樣時會鎖起按鈕\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(url, { data: cart })\r\n        .then((res) => {\r\n          this.status.loadingItem = '' // 當AJAX成功時，把儲存的id清掉，就會解鎖被鎖起來的按鈕\r\n          this.$httpMessageState(res, '加入購物車')\r\n        })\r\n      const product = this.products.find(product => product.id === id)// 將該商品標記為已在購物車\r\n      if (product) {\r\n        product.inCart = true\r\n      }\r\n    },\r\n    filterProducts (category) { // 篩選\r\n      this.selectedCategory = category\r\n      this.filteredProducts = this.products.filter(product => { // product這個參數指向products\r\n        return product.category === this.selectedCategory\r\n      })\r\n      this.showFiltered = true\r\n      this.getProducts()\r\n      this.isLoading = false\r\n    },\r\n    filterAll () {\r\n      this.showFiltered = false\r\n      this.selectedCategory = '全部產品' // 添加 'active'\r\n      this.getProducts()\r\n    },\r\n    searchProducts () {\r\n      this.filteredProducts = this.products.filter(product => {\r\n        return product.title.toLowerCase().includes(this.searchInput.toLowerCase())\r\n      })\r\n      this.showFiltered = true\r\n      this.getProducts()\r\n      this.isLoading = false\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts() // 重新整理頁面\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCart.vue?vue&type=template&id=6736c974&scoped=true\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport \"./UserCart.vue?vue&type=style&index=0&id=6736c974&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6736c974\"]])\n\nexport default __exports__"],"names":["class","role","_createElementVNode","_hoisted_21","_hoisted_36","_createVNode","_component_Loading","active","_ctx","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","type","_normalizeClass","$data","selectedCategory","onClick","_cache","$event","$options","filterAll","filterProducts","_hoisted_5","_hoisted_6","placeholder","searchInput","_hoisted_7","searchProducts","style","showFiltered","_createElementBlock","_hoisted_8","_hoisted_9","_Fragment","_renderList","filteredProducts","item","key","id","getProduct","src","imageUrl","alt","_hoisted_12","_hoisted_13","_toDisplayString","title","_hoisted_14","price","_hoisted_15","origin_price","_hoisted_16","_hoisted_17","_hoisted_18","addCart","disabled","status","loadingItem","_hoisted_20","_hoisted_22","inCart","_hoisted_23","_hoisted_24","products","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_35","_hoisted_37","data","product","methods","getProducts","url","this","$http","get","then","response","console","log","$router","push","event","stopPropagation","cart","product_id","qty","post","res","$httpMessageState","find","category","filter","toLowerCase","includes","created","__exports__","render"],"sourceRoot":""}