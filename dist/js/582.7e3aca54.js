"use strict";(self["webpackChunkfirst_project"]=self["webpackChunkfirst_project"]||[]).push([[582],{1582:function(e,t,o){o.r(t),o.d(t,{default:function(){return x}});var s=o(3396),r=o(9242),n=o(7139);const a=e=>((0,s.dD)("data-v-d3a2aece"),e=e(),(0,s.Cn)(),e),d={class:"container d-flex justify-content-center align-items-center no-scroll center-content my-background",style:{"min-height":"100vh"}},i=a((()=>(0,s._)("h1",{class:"h3 mb-3 font-weight-normal text-center"},"請先登入",-1))),u={class:"mb-2"},l=a((()=>(0,s._)("label",{for:"inputEmail",class:"sr-only"},null,-1))),c={class:"input-group"},p=a((()=>(0,s._)("div",{class:"input-group-text",style:{background:"none",border:"none"}},"✉️",-1))),b={class:"mb-2"},h=a((()=>(0,s._)("label",{for:"inputPassword",class:"sr-only"},null,-1))),m={class:"input-group"},y=a((()=>(0,s._)("div",{class:"input-group-text",style:{background:"none",border:"none"}},"🔒",-1))),g=["type"],w=a((()=>(0,s._)("div",{class:"text-end mt-4"},[(0,s._)("button",{class:"btn btn-lg btn-primary btn-block border",type:"submit"},"登入")],-1)));function f(e,t,o,a,f,v){const _=(0,s.up)("Loading");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(_,{active:f.isLoading},null,8,["active"]),(0,s._)("div",d,[(0,s._)("form",{class:"col-md-6 p-5 border",onSubmit:t[3]||(t[3]=(0,r.iM)(((...e)=>v.signIn&&v.signIn(...e)),["prevent"])),style:{"background-color":"rgba(255, 255, 255, 0.5)"}},[i,(0,s._)("div",u,[l,(0,s._)("div",c,[p,(0,s.wy)((0,s._)("input",{type:"email",id:"inputEmail",class:"form-control border",placeholder:"輸入電子信箱",required:"",autofocus:"","onUpdate:modelValue":t[0]||(t[0]=e=>f.user.username=e)},null,512),[[r.nr,f.user.username]])])]),(0,s._)("div",b,[h,(0,s._)("div",m,[y,(0,s.wy)((0,s._)("input",{id:"inputPassword",class:"form-control border",placeholder:"輸入密碼",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>f.user.password=e),type:f.showPassword?"text":"password"},null,8,g),[[r.YZ,f.user.password]]),(0,s._)("div",{class:"input-group-text",style:{background:"none",border:"none",cursor:"pointer"},onClick:t[2]||(t[2]=(...e)=>v.toggleShowPassword&&v.toggleShowPassword(...e))},(0,n.zw)(f.showPassword?"🙉":"🙈")+" ",1)])]),w],32)])],64)}o(560);var v={data(){return{user:{username:"",password:""},apiResult:"",isLoading:!1,showPassword:!1}},methods:{signIn(){const e="https://vue3-course-api.hexschool.io/admin/signin";this.isLoading=!0,this.$http.post(e,this.user).then((e=>{if(e.data.success){const{token:t,expired:o}=e.data;document.cookie=`hexToken=${t}; expires=${new Date(o)};`,this.$notify({title:"登入成功",type:"success",duration:4e3}),this.$router.push("/dashboard/products")}else this.$notify({title:"登入失敗",text:"帳號或密碼錯誤",type:"error",duration:4e3});this.isLoading=!1}))},toggleShowPassword(){this.showPassword=!this.showPassword}},mounted(){document.querySelector("body").style.background=`url(${o(4689)})`,document.querySelector("body").style.backgroundSize="cover",document.querySelector("body").style.backgroundRepeat="no-repeat",document.querySelector("body").style.backgroundAttachment="fixed",document.querySelector("body").style.overflow="hidden"},beforeUnmount(){document.querySelector("body").removeAttribute("style")}},_=o(89);const k=(0,_.Z)(v,[["render",f],["__scopeId","data-v-d3a2aece"]]);var x=k},4689:function(e,t,o){e.exports=o.p+"img/UserLogin.ede26070.webp"}}]);
//# sourceMappingURL=582.7e3aca54.js.map