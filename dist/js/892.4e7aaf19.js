"use strict";(self["webpackChunkfirst_project"]=self["webpackChunkfirst_project"]||[]).push([[892],{7892:function(t,s,e){e.r(s),e.d(s,{default:function(){return tt}});var d=e(3396),a=e(7139);const i=t=>((0,d.dD)("data-v-3939b77d"),t=t(),(0,d.Cn)(),t),l=(0,d.uE)('<div class="mt-5" data-v-3939b77d></div><div class="mt-5" data-v-3939b77d><h2 class="text-center mb-4" data-v-3939b77d>結帳流程</h2><div class="text-center text-nowrap" data-v-3939b77d><div class="d-inline-block" data-v-3939b77d><div class="border rounded rounded-4 p-2 me-3 position-relative bg-secondary text-white" data-v-3939b77d>確認品項 <div class="line" data-v-3939b77d></div></div></div><div class="d-inline-block" data-v-3939b77d><div class="border rounded rounded-4 p-2 me-3 position-relative bg-secondary text-white" data-v-3939b77d>填寫資料 <div class="line" data-v-3939b77d></div></div></div><div class="d-inline-block" data-v-3939b77d><div class="border rounded rounded-4 p-2 me-3 position-relative bg-secondary text-white" data-v-3939b77d>前往付款 <div class="line" data-v-3939b77d></div></div></div><div class="d-inline-block" data-v-3939b77d><div class="border rounded rounded-4 p-2 position-relative" data-v-3939b77d>結帳成功</div></div></div></div>',2),r={class:"row mt-5 container mx-auto"},o={class:"col-md-6 p-2 mb-5"},n={class:"border border-1 border-dark"},c=i((()=>(0,d._)("div",{class:"h2 text-center p-4"},"個人資料",-1))),v={class:"list-group"},b={class:"list-group-item d-flex justify-content-between align-items-center"},p={class:"list-group-item d-flex justify-content-between align-items-center"},u={class:"list-group-item d-flex justify-content-between align-items-center"},m={class:"list-group-item d-flex justify-content-between align-items-center"},_={class:"list-group-item d-flex justify-content-between align-items-center"},g={key:0},h={key:1,class:"text-success"},w={class:"list-group-item d-flex justify-content-between align-items-center"},x={class:"col-md-6 p-2 mb-5"},y={class:"border border-1 border-dark"},k=i((()=>(0,d._)("div",{class:"h2 text-center border-bottom p-4"},"訂單明細",-1))),f={class:"ms-4 mb-5"},z={class:"text-primary"},U={class:"row my-4"},C=i((()=>(0,d._)("div",{class:"col-md-6"},[(0,d._)("h4",{class:"ms-4"},"品項:")],-1))),j={class:"col-md-6 text-end pe-5"},L={class:"border-bottom mb-4"},$={class:"ps-3"},D={class:"ps-1"},I={class:"text-secondary"},O={class:"ps-1"},M={class:"row mb-4 mt-5 mx-2"},H=i((()=>(0,d._)("div",{class:"col-md-6"},[(0,d._)("h4",null,"總計:")],-1))),N={class:"col-md-6"},T={class:"text-end"},Y={class:"text-danger"},q={class:"ps-1"},E={class:"row mx-2"},K=i((()=>(0,d._)("div",{class:"col-md-6"},[(0,d._)("h4",null,"付款狀態:")],-1))),S={class:"col-md-6"},W={class:"text-end"},Z={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},A={class:"modal-dialog modal-dialog-centered"},B={class:"modal-content"},F=i((()=>(0,d._)("div",{class:"modal-header"},[(0,d._)("h5",{class:"modal-title text-success",id:"exampleModalLabel"},"付款成功"),(0,d._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),G=i((()=>(0,d._)("div",{class:"modal-body"}," 感謝您的付款，您的訂單已成功支付。 ",-1))),J={class:"modal-footer"},P=i((()=>(0,d._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"關閉",-1)));function Q(t,s,e,i,Q,R){const V=(0,d.up)("Loading");return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d.Wm)(V,{active:Q.isLoading},null,8,["active"]),l,(0,d._)("div",r,[(0,d._)("div",o,[(0,d._)("div",n,[c,(0,d._)("ul",v,[(0,d._)("li",b,[(0,d.Uk)(" 姓名 "),(0,d._)("span",null,(0,a.zw)(Q.order.user.name),1)]),(0,d._)("li",p,[(0,d.Uk)(" 電子郵件 "),(0,d._)("span",null,(0,a.zw)(Q.order.user.email),1)]),(0,d._)("li",u,[(0,d.Uk)(" 電話號碼 "),(0,d._)("span",null,(0,a.zw)(Q.order.user.tel),1)]),(0,d._)("li",m,[(0,d.Uk)(" 地址 "),(0,d._)("span",null,(0,a.zw)(Q.order.user.address),1)]),(0,d._)("li",_,[(0,d.Uk)(" 付款狀態 "),Q.order.is_paid?((0,d.wg)(),(0,d.iD)("span",h,"付款完成")):((0,d.wg)(),(0,d.iD)("span",g,"尚未付款"))]),(0,d._)("li",w,[(0,d.Uk)(" 留言 "),(0,d._)("span",null,(0,a.zw)(Q.order.message),1)])])])]),(0,d._)("div",x,[(0,d._)("div",y,[k,(0,d._)("div",f,[(0,d._)("b",null,[(0,d.Uk)("訂單建立時間: "),(0,d._)("span",z,(0,a.zw)(Q.order.created_at),1)])]),(0,d._)("div",U,[C,(0,d._)("div",j,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(Q.order.products,(t=>((0,d.wg)(),(0,d.iD)("div",{key:t.id},[(0,d._)("div",L,[(0,d.Uk)((0,a.zw)(t.product.title),1),(0,d._)("span",$,"x"+(0,a.zw)(t.qty),1),(0,d._)("span",D,(0,a.zw)(t.product.unit),1),(0,d._)("div",null,[(0,d._)("small",I,[(0,d.Uk)("NT$"),(0,d._)("span",O,(0,a.zw)(t.final_total),1)])])])])))),128))])]),(0,d._)("div",M,[H,(0,d._)("div",N,[(0,d._)("div",T,[(0,d._)("strong",Y,[(0,d.Uk)("NT$ "),(0,d._)("span",q,(0,a.zw)(Q.total)+"元",1)])])])]),(0,d._)("div",E,[K,(0,d._)("div",S,[(0,d._)("div",W,(0,a.zw)(Q.is_paid),1)]),(0,d._)("button",{class:"text-white bg-dark p-2 mb-2 mt-5",type:"button",onClick:s[0]||(s[0]=(...t)=>R.payOrder&&R.payOrder(...t)),"data-bs-toggle":"modal","data-bs-target":"#exampleModal"},"確認付款")])])])]),(0,d._)("div",Z,[(0,d._)("div",A,[(0,d._)("div",B,[F,G,(0,d._)("div",J,[(0,d._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:s[1]||(s[1]=(...t)=>R.goCart&&R.goCart(...t))},"繼續購物"),P])])])])],64)}e(560);var R={data(){return{order:{user:{},created_at:""},orderId:"",total:"",is_paid:"未付款",isLoading:!1}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/rou-api/order/${this.orderId}`;this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order,this.total=t.data.order.total,t.data.order.is_paid&&(this.is_paid="已付款"),this.order.created_at=new Date(1e3*t.data.order.create_at).toLocaleString(),console.log(t))}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/rou-api/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{this.isLoading=!1,t.data.success&&this.getOrder()}))},goCart(){this.$router.push("/user/cart")}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},V=e(89);const X=(0,V.Z)(R,[["render",Q],["__scopeId","data-v-3939b77d"]]);var tt=X}}]);
//# sourceMappingURL=892.4e7aaf19.js.map